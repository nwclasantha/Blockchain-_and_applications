<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChainEdge Studio - Smart Contract Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #2d1b69 100%);
            color: #ffffff;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 3em;
            background: linear-gradient(45deg, #00d4ff, #ff00ff, #ffff00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.5)); }
            to { filter: drop-shadow(0 0 40px rgba(255, 0, 255, 0.8)); }
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .nav-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
            opacity: 0;
        }

        .nav-card:hover::before {
            animation: shine 0.7s ease-in-out;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
        }

        .nav-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: #00d4ff;
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.3);
        }

        .nav-card h3 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeIn 0.5s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .code-editor {
            background: #1e1e1e;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            position: relative;
            overflow-x: auto;
        }

        .code-editor textarea {
            background: transparent;
            border: none;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            width: 100%;
            min-height: 200px;
            resize: vertical;
            outline: none;
        }

        .run-btn {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .run-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.4);
        }

        .vulnerability-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .vulnerability-card {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .vulnerability-card:hover {
            background: rgba(255, 0, 0, 0.2);
            transform: scale(1.02);
        }

        .lifecycle-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
        }

        .lifecycle-step {
            background: linear-gradient(45deg, #00d4ff, #0066cc);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            text-align: center;
            position: relative;
            min-width: 120px;
            transition: all 0.3s ease;
        }

        .lifecycle-step:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.5);
        }

        .lifecycle-arrow {
            width: 0;
            height: 0;
            border-left: 15px solid #00d4ff;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
        }

        .terminal {
            background: #000;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            border: 1px solid #333;
        }

        .terminal-header {
            background: #333;
            margin: -20px -20px 20px -20px;
            padding: 10px 20px;
            border-radius: 10px 10px 0 0;
            font-size: 14px;
            color: #ccc;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .escrow-simulator {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .participant {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .participant.active {
            background: rgba(0, 255, 0, 0.3);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .tool-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(45deg, #00d4ff, #ff00ff);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .blockchain-viz {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            overflow-x: auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .block {
            min-width: 100px;
            height: 80px;
            background: linear-gradient(45deg, #00d4ff, #0066cc);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: relative;
            animation: blockAppear 0.5s ease-in;
        }

        @keyframes blockAppear {
            from { transform: scale(0) rotate(180deg); opacity: 0; }
            to { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00d4ff;
            border-radius: 50%;
            animation: float 6s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="particles"></div>
    
    <div class="container">
        <div class="header">
            <h1>ChainEdge Studio</h1>
            <p>Advanced Smart Contract Educational Simulator</p>
            <p>Module 7: Deep Dive into Smart Contracts</p>
        </div>

        <!-- Navigation Grid -->
        <div id="navigation" class="nav-grid">
            <div class="nav-card" onclick="showSection('basics')">
                <h3>7.1 What Are Smart Contracts?</h3>
                <p>Explore the fundamental concepts and definitions of smart contracts in blockchain technology.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('features')">
                <h3>7.2 Features of Smart Contracts</h3>
                <p>Discover the key characteristics that make smart contracts revolutionary.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('lifecycle')">
                <h3>7.3 Smart Contract Lifecycle</h3>
                <p>Interactive visualization of the complete smart contract development lifecycle.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('languages')">
                <h3>7.4 Development Languages</h3>
                <p>Learn about Solidity, Vyper, and other smart contract programming languages.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('usecases')">
                <h3>7.5 Common Use Cases</h3>
                <p>Explore real-world applications and implementations of smart contracts.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('limitations')">
                <h3>7.6 Limitations & Challenges</h3>
                <p>Understanding the constraints and challenges in smart contract development.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('vulnerabilities')">
                <h3>7.7 Security Vulnerabilities</h3>
                <p>Interactive vulnerability scanner and common attack vector demonstrations.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('escrow')">
                <h3>7.8 Escrow Contract Demo</h3>
                <p>Build and test a complete escrow smart contract with real-time simulation.</p>
            </div>
            
            <div class="nav-card" onclick="showSection('tools')">
                <h3>7.9 Development Tools</h3>
                <p>Comprehensive overview of smart contract development and testing tools.</p>
            </div>
        </div>

        <!-- Content Sections -->
        
        <!-- Smart Contract Basics -->
        <div id="basics" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>What Are Smart Contracts?</h2>
            
            <div style="margin: 30px 0;">
                <h3>Definition</h3>
                <p>Smart contracts are self-executing contracts with the terms of the agreement directly written into code. They automatically execute when predetermined conditions are met, eliminating the need for intermediaries.</p>
                
                <div class="blockchain-viz">
                    <div class="block">Block 1</div>
                    <div class="block">Block 2</div>
                    <div class="block">Contract</div>
                    <div class="block">Block 4</div>
                </div>
                
                <h3>Key Concepts</h3>
                <ul style="margin: 20px 0; line-height: 2;">
                    <li><strong>Immutability:</strong> Once deployed, code cannot be changed</li>
                    <li><strong>Transparency:</strong> All transactions are visible on the blockchain</li>
                    <li><strong>Autonomy:</strong> Contracts execute automatically without human intervention</li>
                    <li><strong>Trustless:</strong> No need to trust other parties, trust the code</li>
                </ul>
                
                <button class="run-btn" onclick="demonstrateBasics()">Demonstrate Smart Contract Execution</button>
                <div id="basicsDemo" class="terminal" style="display: none;">
                    <div class="terminal-header">Smart Contract Execution Simulation</div>
                    <div id="basicsOutput"></div>
                </div>
            </div>
        </div>

        <!-- Features -->
        <div id="features" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Features of Smart Contracts</h2>
            
            <div class="tools-grid">
                <div class="tool-card">
                    <h4>🔒 Security</h4>
                    <p>Cryptographic security ensures contract integrity and prevents unauthorized modifications.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 95%;"></div>
                    </div>
                </div>
                
                <div class="tool-card">
                    <h4>⚡ Efficiency</h4>
                    <p>Automated execution reduces processing time and eliminates manual intervention.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%;"></div>
                    </div>
                </div>
                
                <div class="tool-card">
                    <h4>💰 Cost Reduction</h4>
                    <p>Eliminates intermediaries, reducing transaction costs and fees.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%;"></div>
                    </div>
                </div>
                
                <div class="tool-card">
                    <h4>🌐 Global Access</h4>
                    <p>Accessible from anywhere in the world, 24/7 without geographical restrictions.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 100%;"></div>
                    </div>
                </div>
            </div>
            
            <button class="run-btn" onclick="demonstrateFeatures()">Interactive Feature Demo</button>
            <div id="featuresDemo" style="display: none; margin-top: 20px;"></div>
        </div>

        <!-- Lifecycle -->
        <div id="lifecycle" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Smart Contract Lifecycle</h2>
            
            <div class="lifecycle-diagram">
                <div class="lifecycle-step" data-step="1">Development</div>
                <div class="lifecycle-arrow"></div>
                <div class="lifecycle-step" data-step="2">Testing</div>
                <div class="lifecycle-arrow"></div>
                <div class="lifecycle-step" data-step="3">Deployment</div>
                <div class="lifecycle-arrow"></div>
                <div class="lifecycle-step" data-step="4">Execution</div>
                <div class="lifecycle-arrow"></div>
                <div class="lifecycle-step" data-step="5">Monitoring</div>
            </div>
            
            <div id="lifecycleDetails" style="margin: 30px 0;">
                <h3>Click on any step above to learn more</h3>
                <p>The smart contract lifecycle consists of five main phases. Each phase is crucial for successful deployment and operation.</p>
            </div>
            
            <button class="run-btn" onclick="simulateLifecycle()">Simulate Complete Lifecycle</button>
            <div id="lifecycleSimulation" class="terminal" style="display: none;">
                <div class="terminal-header">Lifecycle Simulation</div>
                <div id="lifecycleOutput"></div>
            </div>
        </div>

        <!-- Languages -->
        <div id="languages" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Languages for Smart Contract Development</h2>
            
            <div class="tools-grid">
                <div class="tool-card">
                    <h4>Solidity</h4>
                    <p>Most popular language for Ethereum smart contracts. JavaScript-like syntax.</p>
                    <button class="run-btn" onclick="showSolidityExample()">View Example</button>
                </div>
                
                <div class="tool-card">
                    <h4>Vyper</h4>
                    <p>Python-like language focused on security and readability.</p>
                    <button class="run-btn" onclick="showVyperExample()">View Example</button>
                </div>
                
                <div class="tool-card">
                    <h4>Rust</h4>
                    <p>Used for Solana and other high-performance blockchains.</p>
                    <button class="run-btn" onclick="showRustExample()">View Example</button>
                </div>
                
                <div class="tool-card">
                    <h4>Move</h4>
                    <p>Resource-oriented language for Diem and Sui blockchains.</p>
                    <button class="run-btn" onclick="showMoveExample()">View Example</button>
                </div>
            </div>
            
            <div id="languageExample" class="code-editor" style="display: none;">
                <textarea id="codeArea" readonly></textarea>
                <button class="run-btn" onclick="compileCode()">Compile & Test</button>
                <button class="run-btn" onclick="closeExample()">Close</button>
            </div>
            
            <div id="compileOutput" class="terminal" style="display: none;">
                <div class="terminal-header">Compilation Output</div>
                <div id="compileResult"></div>
            </div>
        </div>

        <!-- Use Cases -->
        <div id="usecases" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Common Use Cases</h2>
            
            <div class="tools-grid">
                <div class="tool-card">
                    <h4>🏦 DeFi (Decentralized Finance)</h4>
                    <p>Lending, borrowing, and trading without traditional banks.</p>
                    <button class="run-btn" onclick="simulateUseCase('defi')">Simulate</button>
                </div>
                
                <div class="tool-card">
                    <h4>🎨 NFTs (Non-Fungible Tokens)</h4>
                    <p>Unique digital assets representing ownership of digital content.</p>
                    <button class="run-btn" onclick="simulateUseCase('nft')">Simulate</button>
                </div>
                
                <div class="tool-card">
                    <h4>🔗 Supply Chain</h4>
                    <p>Track products from manufacturing to delivery with transparency.</p>
                    <button class="run-btn" onclick="simulateUseCase('supply')">Simulate</button>
                </div>
                
                <div class="tool-card">
                    <h4>🗳️ Voting Systems</h4>
                    <p>Transparent and tamper-proof electronic voting mechanisms.</p>
                    <button class="run-btn" onclick="simulateUseCase('voting')">Simulate</button>
                </div>
                
                <div class="tool-card">
                    <h4>🎮 Gaming</h4>
                    <p>In-game assets, achievements, and player-owned economies.</p>
                    <button class="run-btn" onclick="simulateUseCase('gaming')">Simulate</button>
                </div>
                
                <div class="tool-card">
                    <h4>🏠 Real Estate</h4>
                    <p>Property ownership, fractional ownership, and rental agreements.</p>
                    <button class="run-btn" onclick="simulateUseCase('realestate')">Simulate</button>
                </div>
            </div>
            
            <div id="usecaseSimulation" class="terminal" style="display: none;">
                <div class="terminal-header">Use Case Simulation</div>
                <div id="usecaseOutput"></div>
            </div>
        </div>

        <!-- Limitations -->
        <div id="limitations" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Limitations and Challenges</h2>
            
            <div class="vulnerability-demo">
                <div class="vulnerability-card">
                    <h4>⚠️ Scalability Issues</h4>
                    <p>Limited transaction throughput compared to traditional systems.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 70%; background: orange;"></div>
                    </div>
                </div>
                
                <div class="vulnerability-card">
                    <h4>💸 High Gas Fees</h4>
                    <p>Transaction costs can be prohibitively expensive during network congestion.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%; background: red;"></div>
                    </div>
                </div>
                
                <div class="vulnerability-card">
                    <h4>🔧 Immutability Challenges</h4>
                    <p>Difficult to fix bugs or update contracts once deployed.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%; background: red;"></div>
                    </div>
                </div>
                
                <div class="vulnerability-card">
                    <h4>⚖️ Legal Uncertainty</h4>
                    <p>Regulatory framework still evolving in many jurisdictions.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%; background: orange;"></div>
                    </div>
                </div>
            </div>
            
            <h3>Technical Challenges</h3>
            <ul style="margin: 20px 0; line-height: 2;">
                <li>Oracle Problem: Difficulty accessing real-world data</li>
                <li>Quantum Computing Threats: Future security concerns</li>
                <li>Energy Consumption: Environmental impact of proof-of-work</li>
                <li>User Experience: Complex interfaces for non-technical users</li>
            </ul>
            
            <button class="run-btn" onclick="analyzeLimitations()">Analyze Impact</button>
            <div id="limitationsAnalysis" class="terminal" style="display: none;">
                <div class="terminal-header">Limitations Analysis</div>
                <div id="limitationsOutput"></div>
            </div>
        </div>

        <!-- Vulnerabilities -->
        <div id="vulnerabilities" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Smart Contract Vulnerabilities</h2>
            
            <div class="vulnerability-demo">
                <div class="vulnerability-card">
                    <h4>🔄 Reentrancy Attack</h4>
                    <p>Malicious contracts can recursively call functions before state updates.</p>
                    <button class="run-btn" onclick="demonstrateVulnerability('reentrancy')">Demo Attack</button>
                </div>
                
                <div class="vulnerability-card">
                    <h4>💥 Integer Overflow</h4>
                    <p>Arithmetic operations can exceed maximum values causing unexpected behavior.</p>
                    <button class="run-btn" onclick="demonstrateVulnerability('overflow')">Demo Attack</button>
                </div>
                
                <div class="vulnerability-card">
                    <h4>🎯 Front-Running</h4>
                    <p>Attackers can see pending transactions and place their own with higher gas fees.</p>
                    <button class="run-btn" onclick="demonstrateVulnerability('frontrun')">Demo Attack</button>
                </div>
                
                <div class="vulnerability-card">
                    <h4>🔑 Access Control</h4>
                    <p>Improper permission management can allow unauthorized access to functions.</p>
                    <button class="run-btn" onclick="demonstrateVulnerability('access')">Demo Attack</button>
                </div>
            </div>
            
            <div class="code-editor">
                <h4>Vulnerability Scanner</h4>
                <textarea id="vulnerabilityCode" placeholder="Paste your smart contract code here for analysis...">
pragma solidity ^0.8.0;

contract VulnerableContract {
    mapping(address => uint) balances;
    
    function withdraw(uint _amount) public {
        require(balances[msg.sender] >= _amount);
        (bool success, ) = msg.sender.call{value: _amount}("");
        require(success);
        balances[msg.sender] -= _amount; // Vulnerability: State update after external call
    }
    
    function deposit() public payable {
        balances[msg.sender] += msg.value;
    }
}
                </textarea>
                <button class="run-btn" onclick="scanVulnerabilities()">Scan for Vulnerabilities</button>
            </div>
            
            <div id="vulnerabilityResults" class="terminal" style="display: none;">
                <div class="terminal-header">Vulnerability Scan Results</div>
                <div id="scanOutput"></div>
            </div>
        </div>

        <!-- Escrow Demo -->
        <div id="escrow" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Escrow Contract Simulation</h2>
            
            <div class="escrow-simulator">
                <div class="participant" id="buyer">
                    <h4>👤 Buyer</h4>
                    <p>Alice</p>
                    <p>Balance: <span id="buyerBalance">1000</span> ETH</p>
                    <button class="run-btn" onclick="buyerAction('deposit')">Deposit Funds</button>
                </div>
                
                <div class="participant" id="escrow-contract">
                    <h4>📋 Escrow Contract</h4>
                    <p>Contract Balance: <span id="escrowBalance">0</span> ETH</p>
                    <p>Status: <span id="escrowStatus">Created</span></p>
                    <button class="run-btn" onclick="deployContract()">Deploy Contract</button>
                </div>
                
                <div class="participant" id="seller">
                    <h4>👨‍💼 Seller</h4>
                    <p>Bob</p>
                    <p>Balance: <span id="sellerBalance">500</span> ETH</p>
                    <button class="run-btn" onclick="sellerAction('deliver')">Deliver Product</button>
                </div>
            </div>
            
            <div class="code-editor">
                <h4>Escrow Smart Contract</h4>
                <textarea readonly id="escrowCode">
pragma solidity ^0.8.0;

contract EscrowContract {
    address public buyer;
    address public seller;
    address public arbiter;
    uint256 public amount;
    bool public fundsDeposited = false;
    bool public productDelivered = false;
    bool public fundsReleased = false;
    
    event FundsDeposited(uint256 amount);
    event ProductDelivered();
    event FundsReleased(address to, uint256 amount);
    
    constructor(address _seller, address _arbiter) {
        buyer = msg.sender;
        seller = _seller;
        arbiter = _arbiter;
    }
    
    function depositFunds() external payable {
        require(msg.sender == buyer, "Only buyer can deposit");
        require(!fundsDeposited, "Funds already deposited");
        
        amount = msg.value;
        fundsDeposited = true;
        emit FundsDeposited(amount);
    }
    
    function confirmDelivery() external {
        require(msg.sender == buyer, "Only buyer can confirm");
        require(fundsDeposited, "No funds deposited");
        require(!productDelivered, "Already confirmed");
        
        productDelivered = true;
        emit ProductDelivered();
        
        releaseFunds();
    }
    
    function releaseFunds() internal {
        require(productDelivered, "Product not delivered");
        require(!fundsReleased, "Funds already released");
        
        fundsReleased = true;
        payable(seller).transfer(amount);
        emit FundsReleased(seller, amount);
    }
}
                </textarea>
            </div>
            
            <div id="escrowLog" class="terminal">
                <div class="terminal-header">Transaction Log</div>
                <div id="escrowOutput">Contract ready for deployment...</div>
            </div>
        </div>

        <!-- Development Tools -->
        <div id="tools" class="content-section">
            <button class="back-btn" onclick="showNavigation()">← Back to Menu</button>
            <h2>Development Tools</h2>
            
            <div class="tools-grid">
                <div class="tool-card">
                    <h4>🔨 Hardhat</h4>
                    <p>Ethereum development environment for compiling, deploying, testing, and debugging.</p>
                    <button class="run-btn" onclick="demonstrateTool('hardhat')">Launch Tool</button>
                </div>
                
                <div class="tool-card">
                    <h4>🧪 Truffle</h4>
                    <p>Development framework for building and testing smart contracts.</p>
                    <button class="run-btn" onclick="demonstrateTool('truffle')">Launch Tool</button>
                </div>
                
                <div class="tool-card">
                    <h4>🌐 Remix IDE</h4>
                    <p>Browser-based IDE for writing, testing, and deploying smart contracts.</p>
                    <button class="run-btn" onclick="demonstrateTool('remix')">Launch Tool</button>
                </div>
                
                <div class="tool-card">
                    <h4>🐍 Brownie</h4>
                    <p>Python-based framework for Ethereum smart contract development.</p>
                    <button class="run-btn" onclick="demonstrateTool('brownie')">Launch Tool</button>
                </div>
                
                <div class="tool-card">
                    <h4>🔍 Mythril</h4>
                    <p>Security analysis tool for finding vulnerabilities in smart contracts.</p>
                    <button class="run-btn" onclick="demonstrateTool('mythril')">Launch Tool</button>
                </div>
                
                <div class="tool-card">
                    <h4>⚖️ Slither</h4>
                    <p>Static analysis framework for finding bugs and security issues.</p>
                    <button class="run-btn" onclick="demonstrateTool('slither')">Launch Tool</button>
                </div>
            </div>
            
            <div id="toolDemo" class="terminal" style="display: none;">
                <div class="terminal-header">Tool Demonstration</div>
                <div id="toolOutput"></div>
            </div>
        </div>
    </div>

    <script>
        // Create floating particles
        function createParticles() {
            const container = document.getElementById('particles');
            setInterval(() => {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particle.style.opacity = Math.random() * 0.5 + 0.3;
                container.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 6000);
            }, 300);
        }

        // Navigation functions
        function showSection(sectionId) {
            // Hide navigation
            document.getElementById('navigation').style.display = 'none';
            
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
        }

        function showNavigation() {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show navigation
            document.getElementById('navigation').style.display = 'grid';
        }

        // Smart Contract Basics
        function demonstrateBasics() {
            const demo = document.getElementById('basicsDemo');
            const output = document.getElementById('basicsOutput');
            demo.style.display = 'block';
            
            const steps = [
                "Initializing smart contract...",
                "Checking conditions: Balance > 100 ETH ✓",
                "Executing transfer function...",
                "Updating blockchain state...",
                "Transaction confirmed! Block #12345",
                "Contract executed successfully ✓"
            ];
            
            output.innerHTML = '';
            steps.forEach((step, index) => {
                setTimeout(() => {
                    output.innerHTML += `<div style="color: #00ff00;">[${new Date().toLocaleTimeString()}] ${step}</div>`;
                }, index * 1000);
            });
        }

        // Features demonstration
        function demonstrateFeatures() {
            const demo = document.getElementById('featuresDemo');
            demo.style.display = 'block';
            demo.innerHTML = `
                <div style="background: rgba(0,255,0,0.1); padding: 20px; border-radius: 10px; margin: 10px 0;">
                    <h4>🔒 Security Demo</h4>
                    <p>Transaction Hash: 0x1a2b3c4d5e6f7890...</p>
                    <p>Status: Verified ✓</p>
                </div>
                <div style="background: rgba(0,200,255,0.1); padding: 20px; border-radius: 10px; margin: 10px 0;">
                    <h4>⚡ Efficiency Demo</h4>
                    <p>Processing Time: 0.003 seconds</p>
                    <p>Gas Used: 21,000 units</p>
                </div>
            `;
        }

        // Lifecycle functions
        function simulateLifecycle() {
            const simulation = document.getElementById('lifecycleSimulation');
            const output = document.getElementById('lifecycleOutput');
            simulation.style.display = 'block';
            
            const phases = [
                "📝 Phase 1: Development - Writing smart contract code...",
                "🧪 Phase 2: Testing - Running unit tests and integration tests...",
                "🚀 Phase 3: Deployment - Deploying to testnet...",
                "▶️ Phase 4: Execution - Contract is live and processing transactions...",
                "📊 Phase 5: Monitoring - Tracking performance and gas usage..."
            ];
            
            output.innerHTML = '';
            phases.forEach((phase, index) => {
                setTimeout(() => {
                    output.innerHTML += `<div style="color: #00d4ff; margin: 10px 0;">${phase}</div>`;
                }, index * 2000);
            });
        }

        // Language examples
        function showSolidityExample() {
            const example = document.getElementById('languageExample');
            const codeArea = document.getElementById('codeArea');
            example.style.display = 'block';
            codeArea.value = `pragma solidity ^0.8.0;

contract SimpleStorage {
    uint256 private storedData;
    
    event DataStored(uint256 data);
    
    function set(uint256 x) public {
        storedData = x;
        emit DataStored(x);
    }
    
    function get() public view returns (uint256) {
        return storedData;
    }
}`;
        }

        function showVyperExample() {
            const example = document.getElementById('languageExample');
            const codeArea = document.getElementById('codeArea');
            example.style.display = 'block';
            codeArea.value = `# @version ^0.3.0

stored_data: public(uint256)

event DataStored:
    data: uint256

@external
def set_data(x: uint256):
    self.stored_data = x
    log DataStored(x)

@external
@view
def get_data() -> uint256:
    return self.stored_data`;
        }

        function showRustExample() {
            const example = document.getElementById('languageExample');
            const codeArea = document.getElementById('codeArea');
            example.style.display = 'block';
            codeArea.value = `use anchor_lang::prelude::*;

#[program]
pub mod simple_storage {
    use super::*;
    
    pub fn initialize(ctx: Context<Initialize>, data: u64) -> Result<()> {
        let storage_account = &mut ctx.accounts.storage_account;
        storage_account.data = data;
        Ok(())
    }
    
    pub fn update(ctx: Context<Update>, new_data: u64) -> Result<()> {
        let storage_account = &mut ctx.accounts.storage_account;
        storage_account.data = new_data;
        Ok(())
    }
}

#[derive(Accounts)]
pub struct Initialize<'info> {
    #[account(init, payer = user, space = 8 + 8)]
    pub storage_account: Account<'info, StorageAccount>,
    #[account(mut)]
    pub user: Signer<'info>,
    pub system_program: Program<'info, System>,
}

#[account]
pub struct StorageAccount {
    pub data: u64,
}`;
        }

        function showMoveExample() {
            const example = document.getElementById('languageExample');
            const codeArea = document.getElementById('codeArea');
            example.style.display = 'block';
            codeArea.value = `module 0x1::SimpleStorage {
    use std::signer;
    
    struct Storage has key {
        data: u64
    }
    
    public fun initialize(account: &signer, initial_data: u64) {
        move_to(account, Storage { data: initial_data });
    }
    
    public fun update_data(account: &signer, new_data: u64) acquires Storage {
        let storage = borrow_global_mut<Storage>(signer::address_of(account));
        storage.data = new_data;
    }
    
    public fun get_data(addr: address): u64 acquires Storage {
        borrow_global<Storage>(addr).data
    }
}`;
        }

        function compileCode() {
            const output = document.getElementById('compileOutput');
            const result = document.getElementById('compileResult');
            output.style.display = 'block';
            
            const messages = [
                "Compiling smart contract...",
                "Checking syntax... ✓",
                "Optimizing bytecode... ✓",
                "Generating ABI... ✓",
                "Compilation successful!",
                "Contract size: 2.4 KB",
                "Gas estimation: 145,000 units"
            ];
            
            result.innerHTML = '';
            messages.forEach((msg, index) => {
                setTimeout(() => {
                    result.innerHTML += `<div style="color: ${index < 4 ? '#ffff00' : '#00ff00'};">${msg}</div>`;
                }, index * 500);
            });
        }

        function closeExample() {
            document.getElementById('languageExample').style.display = 'none';
            document.getElementById('compileOutput').style.display = 'none';
        }

        // Use case simulations
        function simulateUseCase(useCase) {
            const simulation = document.getElementById('usecaseSimulation');
            const output = document.getElementById('usecaseOutput');
            simulation.style.display = 'block';
            
            const scenarios = {
                defi: [
                    "💰 DeFi Lending Simulation",
                    "User deposits 100 ETH as collateral",
                    "Smart contract calculates loan-to-value ratio: 75%",
                    "Approved for 75 ETH loan at 5% APY",
                    "Loan issued automatically ✓"
                ],
                nft: [
                    "🎨 NFT Minting Simulation",
                    "Creating unique token ID: #12345",
                    "Uploading metadata to IPFS...",
                    "Minting NFT on blockchain...",
                    "NFT successfully created and transferred to owner ✓"
                ],
                supply: [
                    "🔗 Supply Chain Tracking",
                    "Product manufactured: Batch #ABC123",
                    "Quality check passed ✓",
                    "Shipped from warehouse",
                    "In transit... GPS: 40.7128°N, 74.0060°W",
                    "Delivered to customer ✓"
                ],
                voting: [
                    "🗳️ Voting System Simulation",
                    "Voter identity verified ✓",
                    "Ballot cast for Candidate A",
                    "Vote encrypted and recorded",
                    "Transaction hash: 0xabc123...",
                    "Vote counted successfully ✓"
                ],
                gaming: [
                    "🎮 Gaming Asset Transfer",
                    "Player owns Legendary Sword (#456)",
                    "Initiating trade with Player B",
                    "Escrow contract activated",
                    "Asset ownership transferred ✓",
                    "Transaction fee: 0.001 ETH"
                ],
                realestate: [
                    "🏠 Real Estate Transaction",
                    "Property tokenized: 123 Main St",
                    "Price: 500,000 USDC",
                    "Buyer funds escrowed",
                    "Title verification complete ✓",
                    "Ownership transferred on blockchain ✓"
                ]
            };
            
            const steps = scenarios[useCase] || ["Simulation not found"];
            output.innerHTML = '';
            steps.forEach((step, index) => {
                setTimeout(() => {
                    output.innerHTML += `<div style="color: #00d4ff; margin: 5px 0;">${step}</div>`;
                }, index * 1000);
            });
        }

        // Limitations analysis
        function analyzeLimitations() {
            const analysis = document.getElementById('limitationsAnalysis');
            const output = document.getElementById('limitationsOutput');
            analysis.style.display = 'block';
            
            const results = [
                "📊 Analyzing current network conditions...",
                "Gas Price: 50 gwei (High congestion)",
                "TPS (Transactions per second): 15",
                "Average confirmation time: 2.5 minutes",
                "⚠️ Scalability Impact: HIGH",
                "💸 Cost Impact: VERY HIGH",
                "🔧 Immutability Risk: CRITICAL",
                "📋 Recommendation: Consider Layer 2 solutions"
            ];
            
            output.innerHTML = '';
            results.forEach((result, index) => {
                setTimeout(() => {
                    const color = result.includes('HIGH') || result.includes('CRITICAL') ? '#ff4444' : 
                                 result.includes('Recommendation') ? '#00ff00' : '#ffff00';
                    output.innerHTML += `<div style="color: ${color};">${result}</div>`;
                }, index * 800);
            });
        }

        // Vulnerability demonstrations
        function demonstrateVulnerability(vulnType) {
            const results = document.getElementById('vulnerabilityResults');
            const output = document.getElementById('scanOutput');
            results.style.display = 'block';
            
            const vulnerabilities = {
                reentrancy: [
                    "🔍 Analyzing for reentrancy vulnerabilities...",
                    "❌ CRITICAL: External call before state update detected",
                    "Line 8: msg.sender.call{value: _amount}(\"\");",
                    "Line 10: balances[msg.sender] -= _amount;",
                    "💡 Fix: Use checks-effects-interactions pattern"
                ],
                overflow: [
                    "🔍 Analyzing for integer overflow...",
                    "⚠️ WARNING: Potential overflow in arithmetic operations",
                    "Recommendation: Use SafeMath library",
                    "Or upgrade to Solidity ^0.8.0 for built-in overflow protection"
                ],
                frontrun: [
                    "🔍 Analyzing for front-running vulnerabilities...",
                    "⚠️ WARNING: Transaction ordering dependency detected",
                    "Function can be front-run by MEV bots",
                    "💡 Fix: Implement commit-reveal scheme"
                ],
                access: [
                    "🔍 Analyzing access control...",
                    "❌ CRITICAL: Missing access control modifiers",
                    "Sensitive functions publicly accessible",
                    "💡 Fix: Add onlyOwner or role-based access control"
                ]
            };
            
            const results_array = vulnerabilities[vulnType] || ["Vulnerability not found"];
            output.innerHTML = '';
            results_array.forEach((result, index) => {
                setTimeout(() => {
                    const color = result.includes('CRITICAL') ? '#ff0000' : 
                                 result.includes('WARNING') ? '#ffaa00' : 
                                 result.includes('Fix') ? '#00ff00' : '#ffffff';
                    output.innerHTML += `<div style="color: ${color}; margin: 5px 0;">${result}</div>`;
                }, index * 1000);
            });
        }

        function scanVulnerabilities() {
            const results = document.getElementById('vulnerabilityResults');
            const output = document.getElementById('scanOutput');
            results.style.display = 'block';
            
            const scanResults = [
                "🔍 Initializing vulnerability scanner...",
                "📝 Parsing smart contract code...",
                "🔎 Running security analysis...",
                "",
                "❌ CRITICAL VULNERABILITIES FOUND:",
                "1. Reentrancy vulnerability in withdraw() function",
                "2. Missing access control on critical functions",
                "",
                "⚠️ WARNING ISSUES:",
                "1. Deprecated Solidity version",
                "2. Missing event emissions",
                "",
                "✅ PASSED CHECKS:",
                "1. No integer overflow detected",
                "2. Proper require statements found",
                "",
                "📊 SECURITY SCORE: 4/10 (Poor)",
                "🔧 RECOMMENDATION: Fix critical issues before deployment"
            ];
            
            output.innerHTML = '';
            scanResults.forEach((result, index) => {
                setTimeout(() => {
                    let color = '#ffffff';
                    if (result.includes('CRITICAL')) color = '#ff0000';
                    else if (result.includes('WARNING')) color = '#ffaa00';
                    else if (result.includes('PASSED')) color = '#00ff00';
                    else if (result.includes('SCORE')) color = '#ff4444';
                    else if (result.includes('RECOMMENDATION')) color = '#00ffff';
                    
                    output.innerHTML += `<div style="color: ${color}; margin: 2px 0;">${result}</div>`;
                }, index * 300);
            });
        }

        // Escrow simulation
        let escrowState = {
            deployed: false,
            buyerBalance: 1000,
            sellerBalance: 500,
            escrowBalance: 0,
            status: 'Created',
            deposited: false,
            delivered: false
        };

        function deployContract() {
            if (!escrowState.deployed) {
                escrowState.deployed = true;
                escrowState.status = 'Active';
                updateEscrowDisplay();
                logEscrow("📋 Escrow contract deployed successfully!");
                logEscrow("Contract address: 0x1234567890abcdef...");
            }
        }

        function buyerAction(action) {
            if (action === 'deposit' && escrowState.deployed && !escrowState.deposited) {
                escrowState.buyerBalance -= 100;
                escrowState.escrowBalance += 100;
                escrowState.deposited = true;
                escrowState.status = 'Funded';
                document.getElementById('buyer').classList.add('active');
                updateEscrowDisplay();
                logEscrow("💰 Buyer deposited 100 ETH to escrow");
                
                setTimeout(() => {
                    document.getElementById('buyer').classList.remove('active');
                }, 2000);
            } else if (action === 'confirm' && escrowState.delivered) {
                releaseFunds();
            }
        }

        function sellerAction(action) {
            if (action === 'deliver' && escrowState.deposited && !escrowState.delivered) {
                escrowState.delivered = true;
                escrowState.status = 'Delivered';
                document.getElementById('seller').classList.add('active');
                updateEscrowDisplay();
                logEscrow("📦 Seller confirmed product delivery");
                
                setTimeout(() => {
                    document.getElementById('seller').classList.remove('active');
                    releaseFunds();
                }, 2000);
            }
        }

        function releaseFunds() {
            if (escrowState.delivered && escrowState.deposited) {
                escrowState.sellerBalance += escrowState.escrowBalance;
                escrowState.escrowBalance = 0;
                escrowState.status = 'Completed';
                document.getElementById('escrow-contract').classList.add('active');
                updateEscrowDisplay();
                logEscrow("✅ Funds automatically released to seller");
                logEscrow("🎉 Escrow transaction completed successfully!");
                
                setTimeout(() => {
                    document.getElementById('escrow-contract').classList.remove('active');
                }, 2000);
            }
        }

        function updateEscrowDisplay() {
            document.getElementById('buyerBalance').textContent = escrowState.buyerBalance;
            document.getElementById('sellerBalance').textContent = escrowState.sellerBalance;
            document.getElementById('escrowBalance').textContent = escrowState.escrowBalance;
            document.getElementById('escrowStatus').textContent = escrowState.status;
        }

        function logEscrow(message) {
            const output = document.getElementById('escrowOutput');
            const timestamp = new Date().toLocaleTimeString();
            output.innerHTML += `<div style="color: #00ff00;">[${timestamp}] ${message}</div>`;
            output.scrollTop = output.scrollHeight;
        }

        // Development tools
        function demonstrateTool(tool) {
            const demo = document.getElementById('toolDemo');
            const output = document.getElementById('toolOutput');
            demo.style.display = 'block';
            
            const toolCommands = {
                hardhat: [
                    "$ npx hardhat init",
                    "✓ Created hardhat.config.js",
                    "✓ Created contracts/ directory",
                    "✓ Created scripts/ directory",
                    "✓ Created test/ directory",
                    "$ npx hardhat compile",
                    "Compiling 1 file with 0.8.19",
                    "Compilation finished successfully ✓"
                ],
                truffle: [
                    "$ truffle init",
                    "✓ Created truffle-config.js",
                    "✓ Created contracts/ directory",
                    "✓ Created migrations/ directory",
                    "$ truffle compile",
                    "Compiling ./contracts/Contract.sol...",
                    "Writing artifacts to ./build/contracts ✓"
                ],
                remix: [
                    "🌐 Loading Remix IDE...",
                    "✓ File explorer loaded",
                    "✓ Solidity compiler ready",
                    "✓ Deploy & Run module active",
                    "✓ Connected to Web3 provider",
                    "Ready for smart contract development!"
                ],
                brownie: [
                    "$ brownie init",
                    "✓ Project structure created",
                    "✓ brownie-config.yaml generated",
                    "$ brownie compile",
                    "Brownie v1.19.3 - Python development framework",
                    "Compiling contracts... ✓"
                ],
                mythril: [
                    "$ myth analyze contract.sol",
                    "🔍 Analyzing smart contract...",
                    "Running symbolic execution...",
                    "Checking for vulnerabilities...",
                    "Analysis complete ✓",
                    "No vulnerabilities detected"
                ],
                slither: [
                    "$ slither contract.sol",
                    "🐍 Slither static analysis framework",
                    "Running detectors...",
                    "Checking for bugs and vulnerabilities...",
                    "Analysis complete ✓",
                    "Found 0 issues"
                ]
            };
            
            const commands = toolCommands[tool] || ["Tool not found"];
            output.innerHTML = '';
            commands.forEach((cmd, index) => {
                setTimeout(() => {
                    const color = cmd.startsWith('$') ? '#ffff00' : 
                                 cmd.includes('✓') ? '#00ff00' : '#ffffff';
                    output.innerHTML += `<div style="color: ${color}; margin: 5px 0;">${cmd}</div>`;
                }, index * 800);
            });
        }

        // Add lifecycle step click handlers
        document.addEventListener('DOMContentLoaded', function() {
            const lifecycleSteps = document.querySelectorAll('.lifecycle-step');
            lifecycleSteps.forEach(step => {
                step.addEventListener('click', function() {
                    const stepNumber = this.dataset.step;
                    const details = document.getElementById('lifecycleDetails');
                    
                    const stepInfo = {
                        '1': {
                            title: 'Development Phase',
                            content: 'Writing smart contract code using languages like Solidity, Vyper, or Rust. This includes defining contract logic, state variables, functions, and events.'
                        },
                        '2': {
                            title: 'Testing Phase',
                            content: 'Comprehensive testing including unit tests, integration tests, and security audits. Testing on local networks and testnets to ensure contract behaves as expected.'
                        },
                        '3': {
                            title: 'Deployment Phase',
                            content: 'Deploying the compiled contract to the blockchain network. This includes setting constructor parameters and paying deployment gas fees.'
                        },
                        '4': {
                            title: 'Execution Phase',
                            content: 'The contract is live and processing transactions. Users can interact with contract functions, and the contract executes autonomously based on its logic.'
                        },
                        '5': {
                            title: 'Monitoring Phase',
                            content: 'Continuous monitoring of contract performance, gas usage, and security. Tracking events and ensuring the contract operates as intended.'
                        }
                    };
                    
                    const info = stepInfo[stepNumber];
                    details.innerHTML = `
                        <h3>${info.title}</h3>
                        <p>${info.content}</p>
                    `;
                });
            });
            
            // Initialize particles
            createParticles();
        });
    </script>
</body>
</html>